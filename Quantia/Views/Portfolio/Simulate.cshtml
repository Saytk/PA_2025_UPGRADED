@using Quantia.Models.ViewModels
@model NewTransactionModel 
@{
    ViewBag.Section = "Simulate Trade";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Simulate a Trade</h1>

<form asp-action="Simulate" asp-controller="Portfolio" method="post"
      style="max-width: 450px; display: flex; flex-direction: column; gap: 12px;">
    @Html.AntiForgeryToken()

    <!-- Crypto -->
    <div>
        <label for="CryptoSymbol">Symbol</label>
        <input asp-for="CryptoSymbol" id="CryptoSymbol" placeholder="BTC" style="width:100%;" />
    </div>

    <!-- Type Buy / Sell -->
    <div>
        <label>Trade Type</label><br />
        <label><input type="radio" name="TradeType" value="Buy"  checked /> Buy </label>
        <label><input type="radio" name="TradeType" value="Sell" /> Sell</label>
    </div>

    <!-- Date / heure -->
    <div>
        <label for="TradeDate">Date &amp; Time (UTC)</label>
        <input type="datetime-local" name="TradeDate"
               value="@DateTime.UtcNow.ToString("yyyy-MM-ddTHH:mm")"
               style="width:100%;" />
    </div>

    <!-- Quantité -->
    <div>
        <label asp-for="Amount">Amount</label>
        <input asp-for="Amount" type="number" step="0.00000001" style="width:100%;" />
    </div>

    <!-- Prix -->
    <div>
        <label asp-for="PriceAtPurchase">Price at Trade ($)</label>
        <input asp-for="PriceAtPurchase" type="number" step="0.01" style="width:100%;" />
        <small>Si 0, le prix courant sera utilisé.</small>
    </div>

    <button type="submit" style="padding:10px 20px;background:#2563eb;color:#fff;border:none;border-radius:4px;">
        Save Trade
    </button>
</form>
